<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
    <link rel="stylesheet" href="./css/stylesheet.css">
    <!-- <script src="./jquery-3.6.0.js"></script> -->
    <!-- <script type="text/javascript" src="js/jquery.js"></script> -->
    <!-- <script type="text/javascript" src="js/snowfall.jquery.js"></script> -->
    <script src="./angular.js"></script>
    <script src="./ng-route.js"></script>
    <title>Invitation</title>
</head>
<body ng-app="spaApp" ng-controller="spaCtrl">
    <header>
        <h1>
            <p>
                이희탁 & 미사키 모바일 청첩장
            </p>
            <p>
                Hitak Lee & Misaki's Mobile Invitation
            </p>
        </h1>
        <h2>
            We are getting married!
        </h2>
        <h3>
            2022.11.12 SAT 11:00 A.M.
            분당 만나교회 (경기도 성남시 분당구 양현로 353)
        </h3>
    </header>
    <nav>
        <ul>
            <li>
                <a href="#!/">Home</a>
            </li>
            <li>
                <a href="#!invitationphrase">Invitation</a>
            </li>
            <li>
                <a href="#!gallery">Gallery</a>
            </li>
            <li>
                <a href="#!live">Live</a>
            </li>
            <li>
                <a href="#!map">Direction</a>
            </li>
            <li>
                <a href="#!bank">Love</a>
            </li>
            <li>
                <a href="#!msg">Leave Messages</a>
            </li>
            <li>
                <a href="#contact">Contact</a>
            </li>
        </ul>
    </nav>
    <main ng-view>
        <!-- all content pages will be displayed here -->
    </main>
    <footer class="contact" id="contact">
        <div>
            <p>Hitak Lee || 이희탁</p>
            <div class="sns">
                <span><a href="mailto:gmlxkr920901@gmail.com">Email:gmlxkr920901@gmail.com</a></span>
                <span>Located: Vancouer, BC</span>
            </div>
            <div class="container">
                <ul class="social_icons">
                    <a href="https://github.com/HenryHitak" class="fa-brands fa-github"></a>
                    <a href="https://www.linkedin.com/in/hitak-lee-611720170/" class="fa-brands fa-linkedin"></a>
                    <a href="https://www.youtube.com/channel/UCysGaoUwo1Oi07y4KzYYAmA" class="fa-brands fa-youtube-square"></a>
                    <a href="https://www.instagram.com/henry_hitak_lee/" class="fa-brands fa-instagram"></a>
                </ul>
            </div>
        </div>
        <div>
            <p>Misaki Tanaka || 미사키 타나카</p>
            <div class="sns">
                <span><a href="mailto:namilisalokina@hotmail.co.jp">Email:namilisalokina@hotmail.co.jp</a></span>
                <span>Located: Vancouer, BC</span>
            </div>
            <div class="container">
                <ul class="social_icons">
                    <a href="https://www.linkedin.com/in/misaki-tana/" class="fa-brands fa-linkedin"></a>
                    <a href="https://www.instagram.com/milisaloki/" class="fa-brands fa-instagram"></a>
                </ul>
            </div>
        </div>
        <div>
            Copyright &copy; Hitak Lee  
            All Rights Reserved.
        </div>
    </footer>
</body>
<script src="https://use.fontawesome.com/f06cf1997e.js"></script>
<script>
// -----------------------------smooth scroll----------------------------------------------------------//
// $(document).ready(function(){
//   // Add smooth scrolling to all links
//   $("a").on('click', function(event) {

//     // Make sure this.hash has a value before overriding default behavior
//     if (this.hash !== "") {
//       // Prevent default anchor click behavior
//       event.preventDefault();

//       // Store hash
//       var hash = this.hash;

//       // Using jQuery's animate() method to add smooth page scroll
//       // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
//       $('html, body').animate({
//         scrollTop: $(hash).offset().top
//       }, 800, function(){
   
//         // Add hash (#) to URL when done scrolling (default click behavior)
//         window.location.hash = hash;
//       });
//     } // End if
//   });
// });
// ----------------------------- scroll----------------------------------------------------------//

</script>
<script type='text/javascript'>     
    // $(document).ready(function(){
    //     $(document).snowfall({
    //         minSize: 5,
    //         maxSize:10,
    //         round : true
    //      })
    // });
 </script>

<script>
    // Single Page Application on angular
    let spaApp = angular.module("spaApp",["ngRoute"]);
    spaApp.config(($routeProvider)=>{
        $routeProvider
        .when("/",{
            templateUrl:"./pages/home.html"
        })
        .when("/invitationphrase",{
            templateUrl:"./pages/invitationphrase.html"
        })
        .when("/gallery",{
            templateUrl:"./pages/gallery.html"
        })
        .when("/live",{
            templateUrl:"./pages/live.html"
        })
        .when("/map",{
            templateUrl:"./pages/map.html"
        })
        .when("/bank",{
            templateUrl:"./pages/bank.html"
        })
        .when("/msg",{
            templateUrl:"./pages/msg.html"
        })
    })

    spaApp.controller("spaCtrl",($scope,$interval)=>{
        let xmlHttp = new XMLHttpRequest();
        xmlHttp.open('GET','./dir/snapImg.txt', true); // false for synchronous request
        xmlHttp.onload = ()=>{
            if (xmlHttp.status == 200) {
                let res = JSON.parse(xmlHttp.responseText);
                $scope.activeImg = 0;
                $scope.imgUrl = res;
                $scope.isActive =[];
                for(let x = 0; x < $scope.imgUrl.length; x++){
                    if(x == 0){
                        $scope.isActive.push(true);
                    }
                    else{
                        $scope.isActive.push(false);
                    }
                }
                $scope.shImage = (n)=>{
                    $scope.activeImg += n; 
                    if( $scope.activeImg >= $scope.imgUrl.length){ // if activeImg bigger than img length need to back to first img
                        $scope.activeImg = 0;
                    }
                    else if($scope.activeImg < 0){ // if activeImg small than first img need to go to last img
                        $scope.activeImg = $scope.imgUrl.length - 1;
                    };
                    for(let idx = 0; idx < $scope.imgUrl.length; idx++){ // reset array then just active the img which we need(replace true to the one which need to active)
                        $scope.isActive[idx] = false;
                    }
                    $scope.isActive.splice($scope.activeImg,1,true);
                };
                $interval(()=>{
                    $scope.shImage(1);
                },5000);
            }
            else {
                console.log(xmlHttp.statusText);
            }
        }
        xmlHttp.send();

        let xmlHttp1 = new XMLHttpRequest();
        xmlHttp1.open('GET','./dir/galleryImg.txt', true); // false for synchronous request
        xmlHttp1.onload = ()=>{
            if (xmlHttp1.status == 200) {
                let resGallery = JSON.parse(xmlHttp1.responseText);
                $scope.imgUrlGallery = resGallery;
                console.log($scope.imgUrlGallery);
                // $scope.isActiveGallery = [true,false,true,false,false,true,false,true,true,false,true,false];
                $scope.isActiveGallery =[];
                for(let idx = 0; idx < $scope.imgUrl.length; idx++){
                    x = idx + 1; 
                    if(x % 8 == 2 || x % 8 == 4 || x % 8 == 5 || x % 8 == 7){
                        $scope.isActiveGallery.push(true);
                    }
                    else{
                        $scope.isActiveGallery.push(false);
                    }
                }
            }
            else {
                console.log(xmlHttp1.statusText);
            }
            $scope.shImageGallery = ()=>{
                for(let idx in $scope.imgUrlGallery){
                    $scope.isActiveGallery[idx] = !$scope.isActiveGallery[idx];
                }
            }
            $interval(()=>{
                    $scope.shImageGallery();
            },5000);
        }
        xmlHttp1.send(); 
    })

</script>
</html>